<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <body>
    <p>...content before scripts...</p>
    <p>ref: https://javascript.info/onload-ondomcontentloaded</p>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        console.log(
          "DOMContentLoaded:" +
            document.readyState +
            ", time: " +
            performance.now()
        );
        alert("DOM ready after defer!");
      });
      document.addEventListener("readystatechange", () =>
        console.log(
          "readyState:" + document.readyState + ", time: " + performance.now()
        )
      );
    </script>
    <script
      src="https://javascript.info/article/script-async-defer/long.js?speed=1"
      defer
    ></script>
    <p>...content after scripts...</p>
  </body>
</html>
